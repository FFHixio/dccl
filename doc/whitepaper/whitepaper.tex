\documentclass[10pt,letterpaper]{article}
\usepackage[latin1]{inputenc}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{hyperref}
\oddsidemargin 0in
\evensidemargin 0in
\textwidth 6in
\textheight 8in
\author{t. schneider \\ tes@mit.edu}
\title{Goby Autonomy Infrastructure Preliminary Design Whitepaper}
\date{10.12.09}
\begin{document}
\maketitle 

\section{What is this?}
Goby is a new software infrastructure for autonomous vehicles that is intended to allow maximum interoperability in clusters of dissimilar AUVs and other marine vehicles. It is currently in the planning stage and feedback to the author would be greatly appreciated.

\section{Motivation}

Goby is motivated by the desire to create a versatile, robust, and highly extensible infrastructure for autonomous vehicles. The initial goal is to support underwater vehicles, so a good deal of emphasis is placed on minimizing data packet sizes for acoustic (and other low bandwidth) communications. The author has significant experience with the Mission Oriented Operating System (MOOS)\footnote{\url{http://www.robots.ox.ac.uk/~mobile/MOOS/wiki/pmwiki.php}} autonomy infrastructure which is quickly becoming a \textit{de facto} standard for robotic marine vehicles. Goby will have the ability to communicate fully with a MOOS community, allowing for full backwards compatibility and interoperability with MOOS.

Seamless communication between vehicles (or subsystems of vehicles) connected by TCP/IP, UDP, acoustic, and serial links will be supported. Goby will run well on low power, embedded systems with the ability to suspend and resume at will.

Goby will be primarily geared at being a \textit{scientific} autonomy infrastructure. The driving features behind this goal are

\begin{itemize}
\item low power use for embedded systems on long duration deployment vehicles (e.g. gliders)
\item built in support for tracking accuracies and precisions of values within the system
\item robust support for runtime and postprocessing scientific software tools (MATLAB)
\end{itemize}

Goby will leverage well respected third party libraries\footnote{e.g. boost, asio, sqlite, dccl} to increase quality and extensibility of the final project. 

\section{Overview}

Given the author's experience with MOOS, a large amount of Goby's initial thrust will build off the positive elements of MOOS and seek to correct MOOS's shortcomings.

\begin{itemize}
\item Like MOOS, the infrastructure will be publish / subscribe based off a collection of individual processes. The author believes that this individual process model is an good way to handle development by a large number of contributors with differing levels of C++ skill.
\item The core process (\verb|goby_core|) will write all transactions to a SQLite\footnote{\url{http://www.sqlite.org/}} database, unlike the MOOSDB which is not actually a database, but simply a message handler. SQLite uses single files for entire databases, which means the log at the end of a run will still be a single file. This base database structure also removes the need for separate "logging" processes.
\item Goby will distinguish from the local machine and ``everyone else''. Processes running on the local community will communicate via sockets (probably TCP/IP localhost or maybe straight UNIX sockets) and (optionally) directly read the SQLite database (via the filesystem, clearly). Communities running elsewhere will be linked via the \verb|goby_core| using available communications (wireless ethernet, serial, acoustic communications). This is similar to MOOS's star shaped topology but now with links between the stars.
\item Processes will be configured using a separate SQLite database that will be copied as part of the runtime database as a set of tables. Configuration and launch will eventually be done through a PHP web page interface to the vehicle.
\end{itemize}

\section{Features}

\begin{itemize}
\item Namespaces: namespaces to group together variables into intelligent subdivisions. e.g. navigation namespace ``nav'' will contain all variables related to the vehicle's navigation state. a namespace will define the messaging sent between communities as well
\item Intercommunity Groups: messages from any number of namespaces that define a single message that should be sent between vehicles. Here we can define strict bounds on variables to minimize space in the sent messages.
\item Aliases: multiple names can be given to the same variable. For example, nav::latitude might be aliased to status::latitude, where the status namespace is sent intervehicle. One process may publish gps::speed and another publishes dvl::speed and we may want these both to be aliases to nav::speed. 
\item Mandatory variables: certain variables are critical to the success of the vehicle's mission. If these are not being published a warning must be posted. For example, most of the nav namespace would be mandatory.
\item Cold power off and resume.
\end{itemize}

the basic message sent will be a GobyMessage and will contain the following fields:
\begin{itemize}
\item Full name (community::namespace::name) (e.g. local::nav::speed, unicorn::nav::speed). 
\item Timestamp of generation (UNIX seconds since 1970)
\item Value (float, int, string, enum, bool)
\item Source (if local, what process wrote this; if from outside, what community wrote this).
\item Destination (e.g. local, all, or unicorn)
\item Time To Live (in seconds)
\item Priority (very low, low, medium, high, very high)
\item Acknowledgement requested
\end{itemize}

Local interprocess serialization will be done by boost::serialization and intercommunity serialization will be done by DCCL.

\section{Licensing}
Goby will be free open source software licensed under the GNU General Public License v3 (GPLv3)\footnote{\url{http://www.gnu.org/licenses/}}. The philosophy of using a strong copyleft license can be summed up with ``what starts free should remain free''. In the spirit of free scientific exchange, this software will be available to be improved by all and will remain that way.

\section{Compatibility with MOOS}
Goby can optionally interface to MOOS by having \verb|goby_core| own a CMOOSApp and 
\begin{itemize}
\item subscribe to all publishes to the MOOSDB which will be translated to a GobyMessage in the namespace moos::
\item publish all local publishes to the namespace moos:: to the MOOSDB as to\_upper(name).
\end{itemize}

\end{document}